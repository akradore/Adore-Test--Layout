<?xml version="1.0" encoding="utf-8"?>
<odoo>
		<template id="payment_receipt_report_document">
			<t t-call="web.html_container">
			<t t-call="web.internal_layout">
			<t t-set="o" t-value="o.with_context({'lang':o.hp_id.partner_id.lang})" />
				<div class="row">
				<div class="col-xs-4" style="padding-left:50px;">
				</div>
				<div class="col-xs-8" style="padding-top:10px;">
					<h2>
						<span>Project Finance Payment Receipt</span>
					</h2>
				</div>
			</div>
			<br/>

			<t t-foreach="docs" t-as="o">
				<div class="page">
					<div id="client_detail">
					<br/><br/>
						<table class="table table-condensed" style="width:100%;border-bottom: 1px solid">
							<tr style="border-right: 1px solid;border-top: 1px solid;">
								<td
									style="width:50%; border-style: outset;border-bottom: 0px; border-right: 0px;border-left: 0px;border-top: 0px;">
								</td>
								<td class="text-center"
									style="background:#99ccff;border-top: 1px solid;width:50%;border-bottom: 1px solid;border-right: 1px;border-left:1px solid;border-style: outset1;">
									<strong>Printed By:</strong>
								</td>
							</tr>
							<tr style="border-bottom: 1px solid;border-right: 1px solid;">
								<td
									style="width:50%; border-bottom: 0px; border-right: 0px;border-style: outset;border-left: 0px;border-top: 0px;">
								</td>
								<td class="text-center"
									style="width:50%; border-bottom: 1px; border-right: 1px;border-left:1px solid;border-style: outset1;border-top: 1px;">
									<span t-esc="o.hp_id.user_id.get_logged_name()" />
								</td>
							</tr>
							<tr style="border-left: 1px solid;border-right: 1px solid;">
								<td
									style="width:50%; border-bottom: 0px; border-right: 0px;border-left: 1px solid;border-top: 1px solid;border-style: outset;">
									<strong>
										Client Name:</strong>
										<span t-esc="o.hp_id.partner_id.name" />
								</td>
								<td style="width:50%; border-bottom: 0px; border-right: 1px solid;border-left: 0px;border-top: 1px solid;border-style: outset;">
									<strong>
										Date:
										</strong>
										<span t-esc="o.get_max_Date()" />
								</td>
							</tr>
							<tr style="border-left: 1px solid;border-right: 1px solid;">
									<td
										style="width:50%; border-bottom: 0px; border-right: 0px;border-left: 1px solid;border-top: 0px;border-style: outset;">
										<strong>Company:</strong>
										<span t-esc="o.hp_id.partner_id.parent_id.name" />

									</td>

								<td style="width:50%; border-bottom: 0px; border-right: 1px solid;border-left: 0px;border-top: 0px;border-style: outset;">
									<strong>Phone:  </strong>
									<span t-esc="o.hp_id.partner_id.phone"/>
								</td>
							</tr>
							<tr style="border-left: 1px solid;border-right: 1px solid;">
									<td
										style="width:50%; border-bottom: 0px; border-right: 0px;border-left: 1px solid;border-top: 0px;border-style: outset;">
										<strong>TIN No.:</strong>
										<!-- <span t-esc="o.hp_id.partner_id.company_type"/> -->
										<t t-if="o.hp_id.partner_id.company_type=='company'">
										<span t-esc="o.hp_id.partner_id.vat" />
										</t>

									</td>

								<td style="width:50%; border-bottom: 0px; border-right: 1px solid;border-left: 0px;border-top: 0px;border-style: outset;">
								</td>
							</tr>
						</table>
						<table class="table table-condensed" style="width:100%;border: 1px solid;">
							<thead>

								<tr class="text-center" style="background:#dbe5f1">
									<th style="border-right: 1px solid;">Date</th>
									<th style="border-right: 1px solid;">Journal</th>
									<th style="border-right: 1px solid;">Reference</th>
									<th style="border-right: 1px solid;">Value</th>
								</tr>
							</thead>
							<tbody>
								<t t-set="data" t-value="o.get_data()" />
								<t t-foreach="data.get('move_lines')" t-as="move_line">
									<tr>
										<td style="border: 1px solid;">
										<span t-esc="env['res.lang'].date_formatter(move_line.date)"/>
										</td>
										<td style="border: 1px solid;" t-esc="move_line.move_id.name"></td>
										<td style="border: 1px solid;">
										<span t-esc="move_line.ref"></span>
										&#x20;
										<span t-esc="move_line.account_id.code"></span>
										<span t-esc="move_line.account_id.name"></span>
										</td>
										<td class="text-right" style="border: 1px solid;"
											t-esc="'{0:,.2f}'.format(move_line.credit)"></td>
									</tr>
								</t>
								<tr>
									<td></td>
									<td></td>
									<td class="text-right" >Total :  </td>
									<td class="text-right" style="border: 1px solid;" colspan="4">
										<span t-esc="'{0:,.2f}'.format(data.get('sum'))"></span>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</t>
			</t>
			</t>

		</template>

		<template id="payment_receipt_report">
			<t t-foreach="docs" t-as="o">
				<t t-call="hire_purchase.payment_receipt_report_document" t-lang="o.hp_id.partner_id.lang"/>
			</t>
		</template>
</odoo>
    