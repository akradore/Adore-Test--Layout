<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
		<record model="ir.module.category" id="module_category_hp_management">
            <field name="name">Loan</field>
            <field name="description">Helps you manage your Loan and main Loan operations: Loan application, configurations, etc.</field>
            <field name="sequence">55</field>
        </record>

        <record id="group_hp_del_user" model="res.groups">
	        <field name="name">Loan Deletion Access</field>
	        <!-- <field name="category_id" ref="module_category_loan_management"/> -->
	        <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
    	</record>

        <record id="group_hp_account_user" model="res.groups">
	        <field name="name">User</field>
	        <field name="category_id" ref="module_category_hp_management"/>
	        <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
    	</record>
    	<record id="group_hp_account_manager" model="res.groups">
	        <field name="name">Manager</field>
	        <field name="category_id" ref="module_category_hp_management"/>
	        <field name="implied_ids" eval="[(4, ref('group_hp_account_user'))]"/>
	        <field name="users" eval="[(4, ref('base.user_root'))]"/>
    	</record>

    	<record id="group_hp_account_controller" model="res.groups">
	        <field name="name">Controller</field>
	        <field name="category_id" ref="module_category_hp_management"/>
	        <field name="implied_ids" eval="[(4, ref('group_hp_account_user'))]"/>
	        <field name="users" eval="[(4, ref('base.user_root'))]"/>
    	</record>

		<record id="group_hp_application_approver" model="res.groups">
		    <field name="name">Application Approver</field>
		    <field name="category_id" ref="module_category_hp_management"/>
			<field name="implied_ids" eval="[(4, ref('group_hp_account_user'))]"/>
			<field name="users" eval="[(4, ref('base.user_root'))]"/>
		</record>

    	<record id="account_loan_mgt_rule" model="ir.rule">
	        <field name="name">User Loan Mangement</field>
	        <field name="model_id" ref="model_account_hp"/>
	        <field name="global" eval="True"/>
        	<field name="domain_force">['|',('company_id','=',False),('company_id','child_of',[user.company_id.id])]</field>
        	<field name="groups" eval="[(4, ref('group_hp_account_user')),(4, ref('group_hp_account_manager'))]"/>
    	</record>

    	<!-- Portal for Loan  -->
	    <record id="account_invoice_rule_portal" model="ir.rule">
	        <field name="name">Portal Personal Loan Details</field>
	        <field name="model_id" ref="hire_purchase.model_account_hp"/>
	        <field name="domain_force">[('partner_id','=',[user.commercial_partner_id.id])]</field>
	        <field name="groups" eval="[(4, ref('base.group_portal'))]"/>
	    </record>
		
		<record id="partner_income_expense_rule" model="ir.rule">
		    <field name="name">partner.income.expense.rule</field>
		    <field ref="hire_purchase.model_partner_income_expense" name="model_id"/>
		    <field name="domain_force">[('is_readonly', '=',False )]</field>
		    <field name="perm_write" eval="1"/>
		    <field name="perm_create" eval="0"/>
		    <field name="perm_read" eval="0"/>
		    <field name="perm_unlink" eval="1"/>
		</record>

    </data>
</odoo>
